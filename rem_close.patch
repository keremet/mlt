From a3188e301b5a9a1f25dbb98a510e366363348e64 Mon Sep 17 00:00:00 2001
From: Dan Dennedy <dan@dennedy.org>
Date: Sun, 19 Feb 2017 12:50:59 -0800
Subject: [PATCH] Allow Mlt::Repository to be deleted without bad side effect.

mlt_repository_close() is run by mlt_factory_close() when called either
directly, which requires all Mlt objects to be destroyed prior, or
atexit().
---
 src/mlt++/MltRepository.cpp | 2 --
 1 file changed, 2 deletions(-)

Index: mlt-6.4.1/src/mlt++/MltRepository.cpp
===================================================================
--- mlt-6.4.1.orig/src/mlt++/MltRepository.cpp	2017-08-25 10:06:04.183311289 +0200
+++ mlt-6.4.1/src/mlt++/MltRepository.cpp	2017-08-25 10:10:14.811876020 +0200
@@ -35,8 +35,6 @@ Repository::Repository( mlt_repository r
 
 Repository::~Repository( )
 {
-	if ( instance )
-		mlt_repository_close( instance );
 	instance = NULL;
 }
 
